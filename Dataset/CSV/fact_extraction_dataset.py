import csv
import uuid
import os

# ตรวจสอบและสร้างไดเรกทอรี DataOutput หากยังไม่มี
output_dir = 'DataOutput'
if not os.path.exists(output_dir):
    os.makedirs(output_dir)

# ตัวอย่างข้อมูล Fact Extraction (Text, Extracted Facts)
fact_extraction_data = [
    # Personal Info
    {
        "text": "นายสมชาย ใจดี เกิดเมื่อวันที่ 15 มกราคม 2530 ปัจจุบันอาศัยอยู่ที่กรุงเทพมหานคร ทำงานเป็นวิศวกรซอฟต์แวร์ที่บริษัท ABC จำกัด",
        "extracted_facts": "ชื่อ: นายสมชาย ใจดี\nวันเกิด: 15 มกราคม 2530\nที่อยู่ปัจจุบัน: กรุงเทพมหานคร\nอาชีพ: วิศวกรซอฟต์แวร์\nบริษัท: ABC จำกัด"
    },
    {
        "text": "นางสาวอารี รักษ์ไทย จบการศึกษาปริญญาตรีจากคณะอักษรศาสตร์ จุฬาลงกรณ์มหาวิทยาลัย สนใจงานด้านการแปลภาษาอังกฤษและภาษาญี่ปุ่น",
        "extracted_facts": "ชื่อ: นางสาวอารี รักษ์ไทย\nการศึกษา: ปริญญาตรี คณะอักษรศาสตร์ จุฬาลงกรณ์มหาวิทยาลัย\nความสนใจ: การแปลภาษาอังกฤษ, การแปลภาษาญี่ปุ่น"
    },
    # Event Info
    {
        "text": "คอนเสิร์ต 'รักนะ' จะจัดขึ้นในวันเสาร์ที่ 25 พฤศจิกายน 2566 ณ อิมแพ็ค อารีน่า เมืองทองธานี เริ่มแสดงเวลา 19.00 น. บัตรราคาเริ่มต้น 1,500 บาท",
        "extracted_facts": "ชื่อกิจกรรม: คอนเสิร์ต 'รักนะ'\nวันที่: วันเสาร์ที่ 25 พฤศจิกายน 2566\nสถานที่: อิมแพ็ค อารีน่า เมืองทองธานี\nเวลาเริ่ม: 19.00 น.\nราคาบัตรเริ่มต้น: 1,500 บาท"
    },
    {
        "text": "เกิดอุบัติเหตุรถชนกัน 3 คันบนถนนวิภาวดีรังสิต ขาออก ช่วงเช้าวันนี้ ทำให้การจราจรติดขัดอย่างหนัก มีผู้ได้รับบาดเจ็บเล็กน้อย 2 ราย เจ้าหน้าที่กำลังเร่งเคลียร์พื้นที่",
        "extracted_facts": "เหตุการณ์: อุบัติเหตุรถชน 3 คัน\nสถานที่: ถนนวิภาวดีรังสิต ขาออก\nเวลา: ช่วงเช้าวันนี้\nผลกระทบ: การจราจรติดขัด, ผู้บาดเจ็บเล็กน้อย 2 ราย"
    },
    # Business Info
    {
        "text": "บริษัท XYZ จำกัด (มหาชน) ประกาศผลประกอบการไตรมาส 3 ปี 2566 มีกำไรสุทธิ 500 ล้านบาท เพิ่มขึ้น 15% เมื่อเทียบกับช่วงเดียวกันของปีก่อน รายได้หลักมาจากการส่งออกสินค้าอิเล็กทรอนิกส์",
        "extracted_facts": "บริษัท: บริษัท XYZ จำกัด (มหาชน)\nช่วงเวลา: ไตรมาส 3 ปี 2566\nกำไรสุทธิ: 500 ล้านบาท\nการเปลี่ยนแปลงกำไร: เพิ่มขึ้น 15% (YoY)\nแหล่งรายได้หลัก: การส่งออกสินค้าอิเล็กทรอนิกส์"
    },
    {
        "text": "ร้านกาแฟ 'หอมกรุ่น' สาขาใหม่เปิดให้บริการแล้ววันนี้ที่ชั้น G ห้างสรรพสินค้าเซ็นทรัลเวิลด์ มีโปรโมชั่นพิเศษ ซื้อ 1 แถม 1 สำหรับเครื่องดื่มทุกรายการ ถึงสิ้นเดือนนี้",
        "extracted_facts": "ชื่อร้าน: ร้านกาแฟ 'หอมกรุ่น'\nสถานะ: เปิดสาขาใหม่\nวันที่เปิด: วันนี้\nสถานที่: ชั้น G ห้างสรรพสินค้าเซ็นทรัลเวิลด์\nโปรโมชั่น: ซื้อ 1 แถม 1 เครื่องดื่มทุกรายการ\nระยะเวลาโปรโมชั่น: ถึงสิ้นเดือนนี้"
    }
    # เพิ่มเติมตัวอย่างตามต้องการ
]

# สร้างรายการข้อมูลพร้อม ID
rows = []
for item in fact_extraction_data:
    rows.append([str(uuid.uuid4()), item["text"], item["extracted_facts"]])

# บันทึกเป็นไฟล์ CSV ในโฟลเดอร์ DataOutput
output_file = os.path.join(output_dir, 'thai_dataset_fact_extraction.csv')
with open(output_file, 'w', newline='', encoding='utf-8') as f:
    writer = csv.writer(f)
    writer.writerow(['id', 'text', 'extracted_facts'])
    writer.writerows(rows)

print(f"Created {output_file}")
