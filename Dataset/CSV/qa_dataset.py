import csv
import uuid
import os

# ตรวจสอบและสร้างไดเรกทอรี DataOutput หากยังไม่มี
output_dir = 'DataOutput'
if not os.path.exists(output_dir):
    os.makedirs(output_dir)

# ตัวอย่างข้อมูล QA (Context, Question, Answer)
qa_data = [
    # News
    {
        "context": "กรุงเทพมหานครเผชิญปัญหาน้ำท่วมขังในหลายพื้นที่ หลังฝนตกหนักต่อเนื่องตลอดคืนวันที่ 15 ตุลาคม 2566 โดยเฉพาะย่านลาดพร้าว รามคำแหง และสุขุมวิท ได้รับผลกระทบหนัก การจราจรติดขัดอย่างรุนแรง",
        "question": "เหตุการณ์น้ำท่วมในกรุงเทพฯ เกิดขึ้นเมื่อใด?",
        "answer_text": "วันที่ 15 ตุลาคม 2566"
    },
    {
        "context": "คณะรัฐมนตรีมีมติเห็นชอบมาตรการกระตุ้นเศรษฐกิจรอบใหม่ โดยเน้นการส่งเสริมการท่องเที่ยวภายในประเทศและการสนับสนุนผู้ประกอบการ SME คาดว่าจะเริ่มดำเนินการได้ในไตรมาสสุดท้ายของปี",
        "question": "มาตรการกระตุ้นเศรษฐกิจรอบใหม่เน้นเรื่องใดบ้าง?",
        "answer_text": "การส่งเสริมการท่องเที่ยวภายในประเทศและการสนับสนุนผู้ประกอบการ SME"
    },
    {
        "context": "ทีมฟุตบอลชาติไทยชุดใหญ่ประกาศรายชื่อ 23 นักเตะสำหรับการแข่งขันฟุตบอลโลกรอบคัดเลือกโซนเอเชีย ที่จะพบกับทีมชาติเวียดนามในเดือนหน้า โดยมีนักเตะหน้าใหม่ติดทีมหลายราย",
        "question": "ทีมชาติไทยจะแข่งขันฟุตบอลโลกรอบคัดเลือกกับทีมใดในเดือนหน้า?",
        "answer_text": "ทีมชาติเวียดนาม"
    },
    {
        "context": "ดัชนีตลาดหลักทรัพย์แห่งประเทศไทย (SET) ปิดตลาดวันนี้ที่ 1,650.50 จุด เพิ่มขึ้น 5.20 จุด หรือ 0.32% ด้วยมูลค่าการซื้อขายรวม 65,000 ล้านบาท นักลงทุนต่างชาติยังคงซื้อสุทธิ",
        "question": "มูลค่าการซื้อขายรวมของตลาดหลักทรัพย์วันนี้เป็นเท่าใด?",
        "answer_text": "65,000 ล้านบาท"
    },
    {
        "context": "กรมอุตุนิยมวิทยาพยากรณ์อากาศ 24 ชั่วโมงข้างหน้า ประเทศไทยตอนบนจะมีอากาศเย็นในตอนเช้า ขณะที่ภาคใต้ยังคงมีฝนตกหนักบางแห่ง ขอให้ประชาชนระวังอันตรายจากฝนตกหนักและฝนตกสะสม",
        "question": "ภาคใดของประเทศไทยที่ยังคงมีฝนตกหนักบางแห่ง?",
        "answer_text": "ภาคใต้"
    },

    # General Knowledge
    {
        "context": "ประเทศไทยมีชื่อเรียกอย่างเป็นทางการว่า ราชอาณาจักรไทย เป็นรัฐชาติอันตั้งอยู่ในภูมิภาคเอเชียตะวันออกเฉียงใต้ มีกรุงเทพมหานครเป็นเมืองหลวงและนครใหญ่สุด",
        "question": "เมืองหลวงของประเทศไทยคือเมืองใด?",
        "answer_text": "กรุงเทพมหานคร"
    },
    {
        "context": "ทวีปเอเชียเป็นทวีปที่ใหญ่และมีประชากรมากที่สุดในโลก ตั้งอยู่ในซีกโลกตะวันออกและซีกโลกเหนือเป็นส่วนใหญ่ มีความหลากหลายทางวัฒนธรรมและภูมิศาสตร์อย่างมาก",
        "question": "ทวีปใดมีขนาดใหญ่และมีประชากรมากที่สุดในโลก?",
        "answer_text": "ทวีปเอเชีย"
    },
    {
        "context": "แม่น้ำเจ้าพระยาเป็นแม่น้ำสายหลักของประเทศไทย เกิดจากการรวมตัวของแม่น้ำปิงและแม่น้ำน่านที่จังหวัดนครสวรรค์ ไหลลงสู่อ่าวไทยที่จังหวัดสมุทรปราการ",
        "question": "แม่น้ำเจ้าพระยาเกิดจากการรวมตัวของแม่น้ำใดบ้าง?",
        "answer_text": "แม่น้ำปิงและแม่น้ำน่าน"
    },
    {
        "context": "ภาษาอังกฤษเป็นภาษาในกลุ่มภาษาเจอร์แมนิกตะวันตก มีต้นกำเนิดในอังกฤษยุคแองโกล-แซกซัน ปัจจุบันเป็นภาษาที่ใช้สื่อสารกันอย่างแพร่หลายที่สุดในโลก",
        "question": "ภาษาอังกฤษมีต้นกำเนิดในยุคใด?",
        "answer_text": "อังกฤษยุคแองโกล-แซกซัน"
    },
    {
        "context": "ดวงอาทิตย์เป็นดาวฤกษ์ที่เป็นศูนย์กลางของระบบสุริยะ โลกและวัตถุอื่น ๆ (รวมทั้งดาวเคราะห์ ดาวเคราะห์แคระ ดาวเคราะห์น้อย ดาวหาง และฝุ่น) โคจรรอบดวงอาทิตย์",
        "question": "ดาวฤกษ์ที่เป็นศูนย์กลางของระบบสุริยะคืออะไร?",
        "answer_text": "ดวงอาทิตย์"
    },

    # People/Organizations
    {
        "context": "สตีฟ จอบส์ เป็นผู้ร่วมก่อตั้ง ประธาน อดีตประธานกรรมการบริหารของแอปเปิลคอมพิวเตอร์ และยังเคยเป็นประธานกรรมการบริหารพิกซาร์แอนิเมชันสตูดิโอส์ เขาเป็นผู้มีบทบาทสำคัญในอุตสาหกรรมคอมพิวเตอร์ส่วนบุคคล",
        "question": "สตีฟ จอบส์ เป็นผู้ร่วมก่อตั้งบริษัทใด?",
        "answer_text": "แอปเปิลคอมพิวเตอร์"
    },
    {
        "context": "องค์การสหประชาชาติ (UN) เป็นองค์การระหว่างประเทศ ก่อตั้งขึ้นอย่างเป็นทางการเมื่อวันที่ 24 ตุลาคม ค.ศ. 1945 หลังสิ้นสุดสงครามโลกครั้งที่สอง มีวัตถุประสงค์เพื่อรักษาสันติภาพและความมั่นคงระหว่างประเทศ",
        "question": "องค์การสหประชาชาติก่อตั้งขึ้นเมื่อใด?",
        "answer_text": "วันที่ 24 ตุลาคม ค.ศ. 1945"
    },
    {
        "context": "ลิซ่า ลลิษา มโนบาล เป็นแร็ปเปอร์ นักร้อง และนักเต้นชาวไทย เธอเป็นสมาชิกของวงเกิร์ลกรุปเกาหลีใต้ แบล็กพิงก์ ซึ่งเปิดตัวภายใต้สังกัดวายจีเอนเตอร์เทนเมนต์",
        "question": "ลิซ่าเป็นสมาชิกของวงเกิร์ลกรุปใด?",
        "answer_text": "แบล็กพิงก์"
    },
    {
        "context": "บริษัท กูเกิล (Google LLC) เป็นบริษัทมหาชนอเมริกัน มีรายได้หลักจากการโฆษณาออนไลน์ที่ปรากฏในเสิร์ชเอนจินของกูเกิล อีเมล แผนที่ออนไลน์ ซอฟต์แวร์ เครือข่ายสังคม และวิดีโอออนไลน์",
        "question": "รายได้หลักของกูเกิลมาจากการใด?",
        "answer_text": "การโฆษณาออนไลน์"
    },
    {
        "context": "อัลเบิร์ต ไอน์สไตน์ เป็นนักฟิสิกส์ทฤษฎีชาวเยอรมันเชื้อสายยิว ซึ่งเป็นที่ยอมรับกันอย่างกว้างขวางว่าเป็นหนึ่งในนักวิทยาศาสตร์ที่ยิ่งใหญ่ที่สุดตลอดกาล เขาเป็นผู้เสนอทฤษฎีสัมพัทธภาพ",
        "question": "ไอน์สไตน์เป็นผู้เสนอทฤษฎีใด?",
        "answer_text": "ทฤษฎีสัมพัทธภาพ"
    },

    # Science
    {
        "context": "น้ำ (H₂O) เป็นสารประกอบเคมีชนิดหนึ่งที่พบได้ทั่วไปในธรรมชาติ ประกอบด้วยอะตอมไฮโดรเจน 2 อะตอมและออกซิเจน 1 อะตอมเชื่อมต่อกันด้วยพันธะโควาเลนต์ มีสถานะเป็นของเหลวที่อุณหภูมิและความดันมาตรฐาน",
        "question": "โมเลกุลของน้ำประกอบด้วยอะตอมใดบ้าง?",
        "answer_text": "อะตอมไฮโดรเจน 2 อะตอมและออกซิเจน 1 อะตอม"
    },
    {
        "context": "การสังเคราะห์ด้วยแสง (Photosynthesis) เป็นกระบวนการที่พืช สาหร่าย และไซยาโนแบคทีเรียบางชนิดใช้ในการเปลี่ยนพลังงานแสงอาทิตย์ให้เป็นพลังงานเคมี โดยเก็บสะสมไว้ในรูปของน้ำตาล",
        "question": "กระบวนการที่พืชใช้เปลี่ยนพลังงานแสงอาทิตย์เป็นพลังงานเคมีเรียกว่าอะไร?",
        "answer_text": "การสังเคราะห์ด้วยแสง"
    },
    {
        "context": "แรงโน้มถ่วงเป็นปรากฏการณ์ธรรมชาติที่ทำให้วัตถุทางกายภาพทั้งหมด (รวมถึงดาวเคราะห์ ดาวฤกษ์ ดาราจักร และแม้กระทั่งแสง) ดึงดูดเข้าหากัน เซอร์ ไอแซก นิวตัน เป็นผู้ค้นพบกฎความโน้มถ่วงสากล",
        "question": "ใครเป็นผู้ค้นพบกฎความโน้มถ่วงสากล?",
        "answer_text": "เซอร์ ไอแซก นิวตัน"
    },
    {
        "context": "ดีเอ็นเอ (DNA) หรือ กรดดีออกซีไรโบนิวคลีอิก เป็นโมเลกุลกรดนิวคลีอิกที่เก็บข้อมูลทางพันธุกรรมซึ่งใช้ในการพัฒนา การทำงาน การเจริญเติบโต และการสืบพันธุ์ของสิ่งมีชีวิตทุกชนิดและไวรัสหลายชนิด",
        "question": "โมเลกุลที่เก็บข้อมูลทางพันธุกรรมของสิ่งมีชีวิตคืออะไร?",
        "answer_text": "ดีเอ็นเอ (DNA)"
    },
    {
        "context": "ชั้นบรรยากาศของโลกเป็นชั้นของแก๊สที่ล้อมรอบโลก ประกอบด้วยไนโตรเจนประมาณ 78% ออกซิเจนประมาณ 21% อาร์กอนประมาณ 0.9% คาร์บอนไดออกไซด์ 0.04% และแก๊สอื่น ๆ ในปริมาณเล็กน้อย",
        "question": "แก๊สใดมีปริมาณมากที่สุดในชั้นบรรยากาศของโลก?",
        "answer_text": "ไนโตรเจน"
    },
    # เพิ่มเติมตัวอย่างตามต้องการ
    {
        "context": "ตลาดหลักทรัพย์แห่งประเทศไทย (ตลท.) เปิดเผยว่า ดัชนีหุ้นไทยวันที่ 16 ตุลาคม 2566 ปรับตัวลดลง 10.5 จุด ปิดที่ 1,640.00 จุด ตามทิศทางตลาดหุ้นต่างประเทศที่กังวลเรื่องอัตราเงินเฟ้อ",
        "question": "ดัชนีหุ้นไทยปิดที่เท่าไหร่ในวันที่ 16 ตุลาคม 2566?",
        "answer_text": "1,640.00 จุด"
    },
    {
        "context": "ภูเขาไฟฟูจิเป็นภูเขาที่สูงที่สุดในประเทศญี่ปุ่น ตั้งอยู่ระหว่างจังหวัดชิซูโอกะและจังหวัดยามานาชิ เป็นสัญลักษณ์ที่สำคัญและเป็นแหล่งท่องเที่ยวที่นิยมของประเทศ",
        "question": "ภูเขาที่สูงที่สุดในญี่ปุ่นคือภูเขาอะไร?",
        "answer_text": "ภูเขาไฟฟูจิ"
    },
    {
        "context": "บิล เกตส์ เป็นผู้ร่วมก่อตั้งบริษัทไมโครซอฟท์ เขามีบทบาทสำคัญในการพัฒนาซอฟต์แวร์สำหรับคอมพิวเตอร์ส่วนบุคคล และเป็นที่รู้จักในฐานะมหาเศรษฐีและนักการกุศล",
        "question": "บิล เกตส์ เป็นผู้ร่วมก่อตั้งบริษัทใด?",
        "answer_text": "ไมโครซอฟท์"
    },
    {
        "context": "เซลล์เป็นหน่วยพื้นฐานของสิ่งมีชีวิตทุกชนิด สิ่งมีชีวิตบางชนิดประกอบด้วยเซลล์เพียงเซลล์เดียว (สิ่งมีชีวิตเซลล์เดียว) ในขณะที่บางชนิดประกอบด้วยเซลล์หลายเซลล์ (สิ่งมีชีวิตหลายเซลล์)",
        "question": "หน่วยพื้นฐานของสิ่งมีชีวิตคืออะไร?",
        "answer_text": "เซลล์"
    },
     {
        "context": "พายุไต้ฝุ่น 'ขนุน' คาดว่าจะเคลื่อนตัวเข้าใกล้เกาะไต้หวันในช่วงสุดสัปดาห์นี้ ทำให้เกิดฝนตกหนักและลมกระโชกแรง ทางการได้ประกาศเตือนภัยและเตรียมพร้อมรับมือ",
        "question": "พายุไต้ฝุ่นที่คาดว่าจะเข้าใกล้ไต้หวันชื่ออะไร?",
        "answer_text": "ขนุน"
    },
    {
        "context": "กำแพงเมืองจีนเป็นกำแพงที่มีป้อมคั่นเป็นช่วง ๆ ของจีนสมัยโบราณ สร้างขึ้นเพื่อป้องกันการรุกรานจากชนเผ่าทางเหนือ ถือเป็นหนึ่งในสิ่งก่อสร้างที่ยิ่งใหญ่ที่สุดของมนุษยชาติ",
        "question": "กำแพงเมืองจีนสร้างขึ้นเพื่อวัตถุประสงค์ใด?",
        "answer_text": "ป้องกันการรุกรานจากชนเผ่าทางเหนือ"
    },
    {
        "context": "มาร์ก ซักเคอร์เบิร์ก เป็นผู้ร่วมก่อตั้งและประธานเจ้าหน้าที่บริหารของเมตา (เดิมชื่อ เฟซบุ๊ก) ซึ่งเป็นบริษัทแม่ของเฟซบุ๊ก อินสตาแกรม และวอตส์แอปป์",
        "question": "บริษัทแม่ของเฟซบุ๊ก อินสตาแกรม และวอตส์แอปป์ ชื่ออะไร?",
        "answer_text": "เมตา"
    },
    {
        "context": "ระบบสุริยะประกอบด้วยดวงอาทิตย์และวัตถุอื่นๆ ที่โคจรรอบดวงอาทิตย์ ได้แก่ ดาวเคราะห์ 8 ดวง คือ ดาวพุธ ดาวศุกร์ โลก ดาวอังคาร ดาวพฤหัสบดี ดาวเสาร์ ดาวยูเรนัส และดาวเนปจูน",
        "question": "ดาวเคราะห์ดวงที่อยู่ใกล้ดวงอาทิตย์มากที่สุดคือดาวอะไร?",
        "answer_text": "ดาวพุธ"
    },
    {
        "context": "ราคาน้ำมันดิบในตลาดโลกปรับตัวสูงขึ้นเล็กน้อย หลังกลุ่มโอเปกพลัสมีมติลดกำลังการผลิตลง 2 ล้านบาร์เรลต่อวัน ซึ่งส่งผลกระทบต่อราคาน้ำมันขายปลีกในหลายประเทศ",
        "question": "กลุ่มโอเปกพลัสมีมติลดกำลังการผลิตน้ำมันลงเท่าใด?",
        "answer_text": "2 ล้านบาร์เรลต่อวัน"
    },
    {
        "context": "หอไอเฟลเป็นหอคอยโครงสร้างเหล็กตั้งอยู่บนช็องเดอมาร์ บริเวณแม่น้ำแซน ในกรุงปารีส เป็นสัญลักษณ์ของประเทศฝรั่งเศสและเป็นหนึ่งในสิ่งก่อสร้างที่มีชื่อเสียงที่สุดในโลก",
        "question": "หอไอเฟลตั้งอยู่ในเมืองใด?",
        "answer_text": "กรุงปารีส"
    },
    {
        "context": "เทสลา อิงค์ เป็นบริษัทอเมริกันที่ออกแบบ ผลิต และจำหน่ายรถยนต์ไฟฟ้าและส่วนประกอบระบบส่งกำลังของยานพาหนะไฟฟ้า ก่อตั้งโดย อีลอน มัสก์, เจบี สเตราเบล และคนอื่นๆ",
        "question": "ใครเป็นหนึ่งในผู้ก่อตั้งบริษัทเทสลา?",
        "answer_text": "อีลอน มัสก์" # หรือ เจบี สเตราเบล ก็ได้
    },
    {
        "context": "วัคซีนเป็นชีววัตถุที่สร้างภูมิต้านทานต่อโรคติดเชื้อชนิดใดชนิดหนึ่ง โดยทั่วไปแล้ว วัคซีนประกอบด้วยจุลชีพก่อโรคที่ถูกทำให้อ่อนฤทธิ์หรือตายแล้ว หรือโปรตีนผิวของจุลชีพ",
        "question": "วัคซีนช่วยสร้างอะไรให้กับร่างกาย?",
        "answer_text": "ภูมิต้านทานต่อโรคติดเชื้อชนิดใดชนิดหนึ่ง"
    },
    {
        "context": "ธนาคารแห่งประเทศไทย (ธปท.) ประกาศคงอัตราดอกเบี้ยนโยบายไว้ที่ 1.75% ต่อปี เพื่อสนับสนุนการฟื้นตัวของเศรษฐกิจที่ยังคงมีความเปราะบาง ท่ามกลางแรงกดดันด้านเงินเฟ้อที่เริ่มลดลง",
        "question": "ธปท. ประกาศคงอัตราดอกเบี้ยนโยบายไว้ที่เท่าใด?",
        "answer_text": "1.75% ต่อปี"
    },
    {
        "context": "ทัชมาฮาลเป็นอนุสรณ์สถานตั้งอยู่ในเมืองอัครา ประเทศอินเดีย สร้างขึ้นโดยจักรพรรดิชาห์ชะฮันแห่งราชวงศ์โมกุล เพื่อเป็นอนุสรณ์แห่งความรักแด่พระมเหสีมุมตัซ มาฮาล",
        "question": "ทัชมาฮาลสร้างขึ้นเพื่อใคร?",
        "answer_text": "พระมเหสีมุมตัซ มาฮาล"
    },
    {
        "context": "องค์การอนามัยโลก (WHO) เป็นทบวงการชำนัญพิเศษของสหประชาชาติ ซึ่งรับผิดชอบการประสานงานสาธารณสุขระหว่างประเทศ ก่อตั้งขึ้นเมื่อวันที่ 7 เมษายน ค.ศ. 1948",
        "question": "WHO ย่อมาจากอะไร?",
        "answer_text": "องค์การอนามัยโลก"
    },
    {
        "context": "คลื่นสึนามิเป็นกลุ่มคลื่นน้ำที่เกิดขึ้นจากการย้ายที่ของปริมาตรน้ำก้อนใหญ่ เช่น มหาสมุทร หรือทะเลสาบขนาดใหญ่ เหตุการณ์ใต้น้ำ เช่น แผ่นดินไหว การปะทุของภูเขาไฟ และการระเบิดใต้น้ำ สามารถก่อให้เกิดสึนามิได้",
        "question": "อะไรคือสาเหตุหนึ่งของการเกิดสึนามิ?",
        "answer_text": "แผ่นดินไหว" # หรือ การปะทุของภูเขาไฟ, การระเบิดใต้น้ำ
    },
    {
        "context": "การแข่งขันกีฬาเอเชียนเกมส์ ครั้งที่ 19 จัดขึ้นที่เมืองหางโจว ประเทศจีน โดยมีนักกีฬาจาก 45 ประเทศทั่วทวีปเอเชียเข้าร่วมชิงชัยใน 40 ชนิดกีฬา",
        "question": "เอเชียนเกมส์ ครั้งที่ 19 จัดขึ้นที่เมืองใด?",
        "answer_text": "เมืองหางโจว"
    },
    {
        "context": "พีระมิดแห่งกิซาเป็นหมู่พีระมิดในประเทศอียิปต์ ประกอบด้วย พีระมิดคูฟู พีระมิดคาเฟร และพีระมิดเมนคูเร รวมถึงมหาสฟิงซ์ ถือเป็นหนึ่งในเจ็ดสิ่งมหัศจรรย์ของโลกยุคโบราณ",
        "question": "พีระมิดแห่งกิซาตั้งอยู่ในประเทศใด?",
        "answer_text": "ประเทศอียิปต์"
    },
    {
        "context": "วอร์เรน บัฟเฟตต์ เป็นนักลงทุน นักธุรกิจ และผู้ใจบุญชาวอเมริกัน เขาเป็นหนึ่งในนักลงทุนที่ประสบความสำเร็จมากที่สุดในโลก และเป็นประธานและซีอีโอของเบิร์กเชียร์แฮทาเวย์",
        "question": "วอร์เรน บัฟเฟตต์ เป็นประธานและซีอีโอของบริษัทใด?",
        "answer_text": "เบิร์กเชียร์แฮทาเวย์"
    },
    {
        "context": "ภาวะโลกร้อนคือการเพิ่มขึ้นของอุณหภูมิเฉลี่ยของอากาศใกล้พื้นผิวโลกและมหาสมุทร ซึ่งเกิดขึ้นนับตั้งแต่การปฏิวัติอุตสาหกรรม สาเหตุหลักมาจากการปล่อยแก๊สเรือนกระจกที่เกิดจากกิจกรรมของมนุษย์",
        "question": "สาเหตุหลักของภาวะโลกร้อนคืออะไร?",
        "answer_text": "การปล่อยแก๊สเรือนกระจกที่เกิดจากกิจกรรมของมนุษย์"
    },
    {
        "context": "รัฐบาลเตรียมเปิดลงทะเบียนโครงการ 'คนละครึ่ง เฟส 6' ในเดือนพฤศจิกายนนี้ เพื่อช่วยเหลือค่าครองชีพให้กับประชาชน โดยคาดว่าจะมีผู้ได้รับสิทธิ์ประมาณ 26 ล้านคน",
        "question": "โครงการคนละครึ่ง เฟส 6 จะเปิดลงทะเบียนในเดือนใด?",
        "answer_text": "เดือนพฤศจิกายน"
    },
    {
        "context": "นครวัดเป็นหมู่ปราสาทในประเทศกัมพูชา สร้างในรัชสมัยของพระเจ้าสุริยวรมันที่ 2 ในช่วงต้นคริสต์ศตวรรษที่ 12 เพื่อเป็นศาสนสถานประจำนครหลวงของพระองค์",
        "question": "นครวัดสร้างขึ้นในรัชสมัยของกษัตริย์พระองค์ใด?",
        "answer_text": "พระเจ้าสุริยวรมันที่ 2"
    },
    {
        "context": "กองทุนการเงินระหว่างประเทศ (IMF) เป็นองค์การระหว่างประเทศที่ดูแลระบบการเงินโลกโดยการเฝ้าติดตามอัตราแลกเปลี่ยนและการชำระเงินระหว่างประเทศ ก่อตั้งขึ้นในปี ค.ศ. 1944",
        "question": "IMF ย่อมาจากอะไร?",
        "answer_text": "กองทุนการเงินระหว่างประเทศ"
    },
    {
        "context": "แบคทีเรียเป็นสิ่งมีชีวิตเซลล์เดียวประเภทโปรคาริโอต พบได้ในทุกสภาพแวดล้อมบนโลก บางชนิดเป็นประโยชน์ต่อมนุษย์ เช่น ช่วยในการย่อยอาหาร แต่บางชนิดก็ก่อให้เกิดโรคได้",
        "question": "แบคทีเรียเป็นสิ่งมีชีวิตประเภทใด?",
        "answer_text": "สิ่งมีชีวิตเซลล์เดียวประเภทโปรคาริโอต"
    },
    {
        "context": "เกิดเหตุเพลิงไหม้โรงงานผลิตเฟอร์นิเจอร์ในจังหวัดสมุทรปราการเมื่อช่วงเช้าวันนี้ เจ้าหน้าที่ดับเพลิงใช้เวลากว่า 2 ชั่วโมงจึงควบคุมเพลิงไว้ได้ เบื้องต้นคาดว่าสาเหตุมาจากไฟฟ้าลัดวงจร",
        "question": "สาเหตุเบื้องต้นของเหตุเพลิงไหม้โรงงานคืออะไร?",
        "answer_text": "ไฟฟ้าลัดวงจร"
    },
    {
        "context": "นครเปตราเป็นนครโบราณที่ซ่อนตัวอยู่ในหุบเขาวาดี มูซา ประเทศจอร์แดน สร้างขึ้นโดยชาวนาบาเทียน มีชื่อเสียงจากสถาปัตยกรรมที่แกะสลักเข้าไปในหน้าผาหินทราย",
        "question": "นครเปตรามีชื่อเสียงจากสถาปัตยกรรมแบบใด?",
        "answer_text": "สถาปัตยกรรมที่แกะสลักเข้าไปในหน้าผาหินทราย"
    },
    {
        "context": "แจ็ก หม่า เป็นผู้ประกอบการชาวจีน ผู้ก่อตั้งและอดีตประธานกรรมการบริหารของอาลีบาบากรุ๊ป ซึ่งเป็นกลุ่มบริษัทอีคอมเมิร์ซที่ใหญ่ที่สุดแห่งหนึ่งของโลก",
        "question": "แจ็ก หม่า เป็นผู้ก่อตั้งกลุ่มบริษัทใด?",
        "answer_text": "อาลีบาบากรุ๊ป"
    },
    {
        "context": "ไวรัสเป็นจุลชีพก่อโรคขนาดเล็กที่ไม่สามารถขยายพันธุ์ได้ด้วยตัวเอง ต้องอาศัยเซลล์ของสิ่งมีชีวิตอื่น (โฮสต์) ในการเพิ่มจำนวน ไวรัสสามารถก่อโรคได้ทั้งในมนุษย์ สัตว์ พืช และแบคทีเรีย",
        "question": "ไวรัสต้องอาศัยอะไรในการเพิ่มจำนวน?",
        "answer_text": "เซลล์ของสิ่งมีชีวิตอื่น (โฮสต์)"
    }
]

# สร้างรายการข้อมูลพร้อม ID และ answer_start
rows = []
for item in qa_data:
    context = item["context"]
    question = item["question"]
    answer_text = item["answer_text"]

    # ค้นหาตำแหน่งเริ่มต้นของคำตอบใน context
    answer_start = context.find(answer_text)
    if answer_start == -1:
        # ถ้าหาไม่เจอ อาจจะข้ามไปหรือใส่ค่า -1 (ในที่นี้จะใส่ -1)
        print(f"Warning: Answer not found in context for question: {question}")
        answer_start = -1

    rows.append([str(uuid.uuid4()), context, question, answer_text, answer_start])

# บันทึกเป็นไฟล์ CSV ในโฟลเดอร์ DataOutput
output_file = os.path.join(output_dir, 'thai_dataset_qa.csv')
with open(output_file, 'w', newline='', encoding='utf-8') as f:
    writer = csv.writer(f)
    writer.writerow(['id', 'context', 'question', 'answer_text', 'answer_start'])
    writer.writerows(rows)

print(f"Created {output_file}")
